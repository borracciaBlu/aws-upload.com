<!doctype html>
<html class="no-js doc">
<head>
    <meta charset="utf-8">

    <title>Guide : aws-upload - A delicious CLI Tool for uploading files to ec2</title>

    <meta name="keywords" content="rsync, aws, upload, ec2, php, composer">
    <meta name="description" content="A delicious CLI Tool for uploading files to ec2. Clean, tab ready, rsync powered.">

    <meta property="og:type" content="article">
    <meta property="og:title" content="aws-upload">
    <meta property="og:description" content="aws-upload - A delicious CLI Tool for uploading files to ec2">
    <meta property="og:image" content="https://aws-upload.io/images/aws-upload-logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="aws-upload">
    <meta name="twitter:description" content="aws-upload - A delicious CLI Tool for uploading files to ec2">
    <meta name="twitter:image" content="https://aws-upload.io/images/aws-upload-logo.png">

    <meta name="application-name" content="aws-upload"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="manifest" href="favicons/manifest.json">
    <link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">

    <link rel="canonical" href="http://aws-upload.com/" />
    <style>
a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.container{margin:auto}@media (min-width:1150px){.container{width:1127.3px}}@media (max-width:1150px){.container{width:960px}}@media (max-width:980px){.container{width:calc(100% - 3em)}}@media (max-width:800px){.container{width:calc(100% - 3em)}}@media (max-width:480px){.container{width:calc(100% - 2em)}}html{background:#0d3144}body,html.doc{background:#fff}body{font-size:16px;color:#0d3144;font-family:Open Sans,Helvetica Neue,Arial,sans-serif;font-weight:400}.h1,h1{font-size:2.618em}.h1,.h2,h1,h2{line-height:1;padding-bottom:24px}.h2,h2{font-size:2.427em}b,strong{font-weight:700}em,i{font-style:italic}code{background:#eee;color:#fa4957;padding:3px 5px;margin:0 2px;border-radius:2px;white-space:nowrap;font-family:Source Code Pro}blockquote{padding:23px 24px 1px;margin:2em 0;border-left-width:4px;border-left-style:solid;background-color:#f7f8f9;position:relative;border-bottom-right-radius:2px;border-top-right-radius:2px;border-left-color:#0d3144}.a,a{text-decoration:none}li{line-height:24px}ul ul{padding-left:24px}li li{list-style-type:disc;color:#fa4957}li li a{color:#0d3144}.btn-main{padding:.75em 2em;border-radius:2em;display:inline-block;color:#fff;background-color:#0d3144;transition:all .15s ease;box-sizing:border-box;border:1px solid #0d3144}.btn-main:hover{background-color:#ff6058;border:1px solid #ff6058}.btn-sec{padding:.75em 2em;border-radius:2em;display:inline-block;color:#0d3144;background-color:#fff;transition:all .15s ease;box-sizing:border-box;border:1px solid #0d3144}.btn-sec:hover{color:#ff6058;border:1px solid #ff6058}.nav-bar{height:60px;border-bottom:1px solid #fa4957;margin-bottom:11px;background:#fff;box-shadow:0 0 1px 1px rgba(13,49,68,.15)}@media (max-width:920px){.nav-bar{text-align:center;position:fixed;width:100%;top:0;z-index:3}}.nav-bar.fixed{position:fixed;top:0;width:100%;z-index:3}.nav-bar--menu{float:right;padding:22px 0}@media (max-width:920px){.nav-bar--menu{display:none}}.nav-bar--link{color:#0d3144;font-size:14px;padding:0 0 0 12px}.nav-bar--link:hover{color:#ff6058}.nav-bar--logo{height:36px;padding:12px 0}@media (max-width:920px){.nav-bar--logo{height:24px;padding:18px 0}}.nav-bar--burger{display:none;border:0;background:none;outline:0;padding:0;cursor:pointer;border-bottom:2px solid #0d3144;width:28px;transition:border-bottom 1s ease-in-out;-webkit-transition:border-bottom 1s ease-in-out}@media (max-width:920px){.nav-bar--burger{display:inline-block;margin-top:23px;position:absolute;right:20px}}.nav-bar--burger::-moz-focus-inner{border:0;padding:0}.nav-bar--burger:after,.nav-bar--burger:before{content:"";display:block;border-bottom:2px solid #0d3144;width:100%;margin-bottom:5px;transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out,-webkit-transform .5s ease-in-out;-webkit-transition:-webkit-transform .5s ease-in-out}.nav-bar--burger.open{border-bottom:2px solid transparent;transition:border-bottom .8s ease-in-out;-webkit-transition:border-bottom .8s ease-in-out;margin-top:29px}.nav-bar--burger.open:before{transform:rotate(-405deg) translateY(1px) translateX(-1px);-webkit-transform:rotate(-405deg) translateY(1px) translateX(-1px)}.nav-bar--burger.open:after,.nav-bar--burger.open:before{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out,-webkit-transform .5s ease-in-out;-webkit-transition:-webkit-transform .5s ease-in-out}.nav-bar--burger.open:after{transform:rotate(405deg) translateY(-4px) translateX(-5px);-webkit-transform:rotate(405deg) translateY(-4px) translateX(-5px)}.nav-bar--mobile{overflow:hidden;max-height:0;-webkit-transform:translate(-100%);transform:translate(-150%);transition:all .5s ease-in-out;background:#f0f2f3;background-attachment:fixed;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 0h1L0 6V5zm1 5v1H5z' fill-opacity='.075' fill-rule='evenodd'/%3E%3C/svg%3E");padding-top:2em;display:none;overflow:scroll}.nav-bar--mobile .nav-bar--link{display:block;font-size:2.427em;line-height:1.25;padding:.5em 0}.nav-bar--mobile h2{margin-top:32px;border-top:1px solid #ddd;padding-top:24px}@media (max-width:920px){.nav-bar--mobile{display:block}}@media (max-width:920px){.nav-bar--burger.open~.nav-bar--mobile{width:100%;min-height:100%;position:fixed;left:0;top:61px;-webkit-transform:translate(0);transform:translate(0);transition:all .5s ease-in-out}}.content figure{margin:1.2em 0}.highlight{overflow-x:auto;position:relative;z-index:1;padding:0;background-color:#f8f8f8;padding:.8em .8em 0;border-radius:2px;margin-bottom:24px}.highlight::-webkit-scrollbar{height:8px;width:8px}.highlight::-webkit-scrollbar-corner{display:none}.highlight::-webkit-scrollbar-thumb{background-color:transparent}.highlight:hover::-webkit-scrollbar-thumb{background-color:rgba(13,49,68,.36);border-radius:8px}.highlight table,.highlight td,.highlight tr{width:100%;border-collapse:collapse;padding:0;margin:0}.highlight .code pre{padding:1.2em 1.4em;line-height:.5em;margin:0}.highlight .code .line{min-height:.5em}pre .apache .sqbracket,pre .comment,pre .deletion,pre .doctype,pre .java .annotation,pre .pi,pre .python .decorator,pre .shebang,pre .template_comment,pre .tex .formula{color:#b3b3b3}.highlight .code .line{min-height:.6em}.highlight.bash .code:after{content:"Shell"}.highlight.js .code:after{content:"js"}.highlight.bash .code:after,.highlight.css .code:after,.highlight.html .code:after,.highlight.js .code:after{position:absolute;top:0;right:0;color:#ccc;text-align:right;font-size:.75em;padding:5px 10px 0;line-height:15px;height:15px;font-weight:600}code,pre{font-family:Monaco,courier,monospace;font-size:.8em;background-color:#f8f8f8;-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}pre span{color:#fa4957}.doc--container{z-index:1;overflow-x:hidden;position:relative}.doc--sidebar--external{position:fixed;top:61px;bottom:0;overflow-x:hidden;overflow-y:auto;background:#f0f2f3;padding:4em 0;padding-left:calc((100% - 1127.3px) / 2);padding-right:1em;border:1px solid #ddd;background-attachment:fixed;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 0h1L0 6V5zm1 5v1H5z' fill-opacity='.075' fill-rule='evenodd'/%3E%3C/svg%3E");width:250px;min-height:100%;z-index:2}@media (max-width:1150px){.doc--sidebar--external{padding-left:calc((100% - 960px) / 2)}}@media (min-width:1400px){.doc--sidebar--external{padding-left:3em;margin-left:calc(((100% - 1127.3px) / 2) - 3em)}}@media (max-width:920px){.doc--sidebar--external{display:none}}.doc--sidebar--external::-webkit-scrollbar{height:8px;width:8px}.doc--sidebar--external::-webkit-scrollbar-corner{display:none}.doc--sidebar--external::-webkit-scrollbar-thumb{background-color:transparent}.doc--sidebar--external:hover::-webkit-scrollbar-thumb{background-color:rgba(13,49,68,.36);border-radius:8px}.nav-bar--mobile::-webkit-scrollbar{height:8px;width:8px}.nav-bar--mobile::-webkit-scrollbar-corner{display:none}.nav-bar--mobile::-webkit-scrollbar-thumb{background-color:transparent}.nav-bar--mobile:hover::-webkit-scrollbar-thumb{background-color:rgba(13,49,68,.36);border-radius:8px}.nav-bar--mobile .doc--sidebar{padding-bottom:8em;padding-left:0}.nav-bar--mobile .doc--sidebar ul ul{padding:0}.nav-bar--mobile .doc--sidebar li,.nav-bar--mobile .doc--sidebar li li{list-style-type:none;padding:3px}.doc--sidebar{padding:0 0 11em}.doc--sidebar a{color:#0d3144;font-size:14px;padding:0}.doc--sidebar a:hover{color:#ff6058}.doc--sidebar h3{font-weight:700;font-size:1em;line-height:24px}.doc--sidebar h3~h3{margin-top:24px}@media (max-width:1150px){.doc--sidebar{padding-left:calc((100% - 960px) / 2)}}@media (max-width:980px){.doc--sidebar{padding-left:1.5em}}@media (max-width:480px){.doc--sidebar{padding-left:1em}}.doc--body{position:relative;padding:4em 0 0;max-width:800px;margin:61px auto 0;padding-left:300px;float:none}@media (max-width:1150px){.doc--body{padding-left:calc(((100% - 960px) / 2) + 250px + 3em)}}@media (max-width:920px){.doc--body{padding:4em 0 0;max-width:600px}}@media (max-width:640px){.doc--body{padding:4em 1em 0;max-width:600px}}.doc--body .doc--body--container{max-width:600px}.doc--body .anchor{display:block;padding-top:100px;margin-top:-100px}.doc--body h1~h1{margin-top:48px}.doc--body h2{font-size:1.5em;line-height:1;padding-bottom:12px;padding-top:12px;border-bottom:1px solid #ddd;margin-bottom:12px}.doc--body h2 span{color:#fa4957}.doc--body h3{margin:24px 0 12px;font-weight:700}.doc--body p,.doc--body ul{line-height:1.33;margin-bottom:24px;font-size:.927em}.doc--body ul{padding:0 24px}.doc--body ul li{list-style:square}.doc--body a{color:#fa4957}.doc--body .table{border-spacing:0;border-collapse:collapse;margin:1.2em auto;padding:0;display:block;overflow-x:auto}.doc--body .table th,.doc--body .table tr:nth-child(2n){background-color:#f8f8f8}.doc--body .table th{font-weight:700}.doc--body .table td,.doc--body table th{line-height:1.5em;padding:.4em .8em;border:none;border:1px solid #ddd}
</style>
</head>
<body>

    <div class="nav-bar fixed">
        <div class="container">
            <button class="nav-bar--burger" onclick="javascript: this.classList.toggle('open');"></button>

            <a href="./">
                <img src="images/aws-upload-logo.png"
                     alt="aws-upload - A delicious CLI Tool for uploading files to ec2"
                     class="nav-bar--logo">
            </a>

            <div class="nav-bar--menu">
                <a href="./" class="nav-bar--link">Home ↗</a>
                <a href="./guide.html" class="nav-bar--link">Guide ↗</a>
                <a href="./api.html" class="nav-bar--link">API ↗</a>
                <a href="https://github.com/borracciaBlu/aws-upload" class="nav-bar--link">Github ↗</a>
            </div>

            <div class="nav-bar--mobile">
                <div class="doc--sidebar">
                    <a href="./" class="nav-bar--link">Home ↗</a>
                    <a href="./guide.html" class="nav-bar--link">Guide ↗</a>
                    <a href="./api.html" class="nav-bar--link">API ↗</a>
                    <a href="https://github.com/borracciaBlu/aws-upload" class="nav-bar--link">Github ↗</a>

                    <h2>Guide</h2>
                    <h3>Introduction</h3>
                    <ul>
                    <li><a href="#the-main-idea">The main idea</a></li>
                    <li>
                        <ul>
                            <li><a href="#what-is-aws-upload">What is aws-upload?</a></li>
                            <li><a href="#why">Why</a></li>
                            <li><a href="#why-not">Why not</a></li>
                        </ul>
                    </li>
                    </ul>

                    <h3>Basic Setup</h3>
                    <ul>
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li>
                        <ul>
                            <li><a href="#installation">Installation</a></li>
                            <li><a href="#enabling-tab-completion">Enabling tab-completion</a></li>
                            <li><a href="#update">Update</a></li>

                            <li><a href="#speaking-aws-upload">Speaking aws-upload: proj, env, and keys</a></li>
                            <li><a href="#your-first-deploy">Your first deploy</a></li>
                        </ul>
                    </li>
                    </ul>

                    <h3>Advanced</h3>
                    <ul>
                    <li><a href="#settings">The setting files</a></li>
                    <li>
                        <ul>
                            <li><a href="#the-file-structure">The file structure</a></li>
                            <li><a href="#examples">Examples</a></li>
                        </ul>
                    </li>
                    </ul>

                </div>
            </div>
        </div>
    </div>

    <div class="doc--container">
        <div class="doc--sidebar--external">
            <div class="doc--sidebar">
                <h2>Guide</h2>
                <h3>Introduction</h3>
                <ul>
                <li><a href="#the-main-idea">The main idea</a></li>
                <li>
                    <ul>
                        <li><a href="#what-is-aws-upload">What is aws-upload?</a></li>
                        <li><a href="#why">Why</a></li>
                        <li><a href="#why-not">Why not</a></li>
                    </ul>
                </li>
                </ul>

                <h3>Basic Setup</h3>
                <ul>
                <li><a href="#getting-started">Getting Started</a></li>
                <li>
                    <ul>
                        <li><a href="#installation">Installation</a></li>
                        <li><a href="#enabling-tab-completion">Enabling tab-completion</a></li>
                        <li><a href="#update">Update</a></li>
                        <li><a href="#speaking-aws-upload">Speaking aws-upload: proj, env and keys</a></li>
                        <li><a href="#your-first-deploy">Your first deploy</a></li>
                    </ul>
                </li>
                </ul>

                <h3>Advanced</h3>
                <ul>
                <li><a href="#settings">The setting files</a></li>
                <li>
                    <ul>
                        <li><a href="#the-file-structure">The file structure</a></li>
                        <li><a href="#examples">Examples</a></li>
                    </ul>
                </li>
                </ul>

            </div>
        </div>

        <div class="doc--body">
            <div class="doc--body--container">

            <a id="the-main-idea" class="anchor"></a>
            <h1>The main idea</h1>

            <a id="what-is-aws-upload" class="anchor"></a>
            <h2>
                <span>#</span> What is aws-upload?
            </h2>
            <p>aws-upload is a <strong>CLI Tool </strong> to rapid deploy files on your server.
            Unlike other scripts or tools, aws-upload is designed to maximize efficiency, speed, and automation. </p>
            <p>The core functionality is based on rsync to deploy only what you need. It will automatically compress and upload only the files you change it. </p>

            <a id="why" class="anchor"></a>
            <h2>
                <span>#</span> Why
            </h2>
            <p>The project was born because a frustration I got at work.
            We had a lot of small projects in place and no deploy system. </p>

            <h3>FTP clients</h3>
            <p>At the beginning, I was using just standard <i>FTP clients</i> (eg. <i>FileZilla</i>). But this process was just tedious and full of errors.</p>

            <p>
                <u>There are at least two main issues:</u><br><br>
                <b>Find the file:</b> this process probably was the most time consuming and frustrating.
                You have to click through all the tree on each folder till you reach the file you want to upload. And then repeat the process for each file you want to upload. Not efficient at all.

                <br><br>

                <b>Upload only the correct file:</b> sometimes for laziness, you may be tempted to drag and drop a full folder. Big mistake, chances are you are uploading as well some file you may not want to upload.
                Think about of your <code>.git</code> folder for example.
            </p>

            <p>Later on, I start using <code>rsync</code> with <code>alias</code>.</p>

            <h3>Alias</h3>

            <p>
                I believe that when you reach a critical amount of data on your <i>.rc file</i> (<code>.zshrc</code>, <code>.aliases</code>), the full experience with <code>alias</code> is broken.
            </p>

            <p>
                <u>There are at least three main issues:</u><br><br>

                <b>Setup:</b> when you setup an alias is tedious. Long strings are risky to edit and manipulate. Reload the shell all the time you edit it's quite frustrating. It's better in real time. <br><br>

                <b>Debug:</b> if you make a mistake in your alias you won't receive specific error messages to help you and make the process painless. It's better with some check. <br><br>

                <b>Structure:</b> crawl a huge file and edit a three line command without any structure it's not fun. It's better to edit with scope and focus.
            </p>

            <p>At the end, I finished writing a PHP script with some <a href="#the-file-structure">json files</a> to fix the problem: aws-upload was born.</p>

            <a id="why-not" class="anchor"></a>
            <h2>
                <span>#</span> Why not
            </h2>
            <p>aws-upload does just one thing, deploy.</p>

            <p>
            I think if you are playing with a huge project in which you need to automate a little bit more (eg. testing before deploy, building systems, versioning for each server) aws-upload is not for you.
            </p>

            <p>
            In these cases, you should have a proper deployment automation in place, maybe with some CI system.
            </p>

            <a id="getting-started" class="anchor"></a>
            <h1>Getting Started</h1>

            <a id="installation" class="anchor"></a>
            <h2>
                <span>#</span> Installation
            </h2>

            <blockquote>
            <p>This guide assumes you are already familiar with composer and you have it installed on your machine. If you don't have composer follow the guide <a href="https://getcomposer.org/download/">here</a> to install it.</p>
            </blockquote>

            <p>To install aws-upload we will use Composer.<br>
            Run this in your terminal to get the latest aws-upload version:</p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line"><span class="comment"># get latest stable</span></div>
                                <div class="line">$ composer global require aws-upload/aws-upload</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>


            <p>When the procedure is completed you can verify that all is good by typing:</p>
            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">$ aws-upload -V</div>
                                <div class="line"><span class="comment">#  in the shell you should see something like</span></div>
                                <div class="line">aws-upload version x.x.x</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            <a id="enabling-tab-completion" class="anchor"></a>
            <h2>
                <span>#</span> Enabling tab-completion
            </h2>

            <blockquote>
            <p>The tab completion is done by the shell you are using.</p>
            <p>Right now the only shell supported is <a href="http://www.zsh.org/">zsh</a> in combination with <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>.</p>
            </blockquote>

            <p>
                The auto-complete function is done with an oh-my-zsh plugin. To enable the autocomplete you can type:
            </p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">$ aws-upload autocomplete</div>
                                <div class="line"><span class="comment"># download, install and enable the oh-my-zsh plugin</span></div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            <p>
                This command will download, install and enable the oh-my-zsh plugin for you.
            </p>

            <h3>Note:</h3>
            <p>
                The auto-complete function relies on a specific set of your system. In particular, it expects your system to have the following software already installed :
            </p>
            <ul>
                <li>git</li>
                <li>zsh</li>
                <li>oh-my-zsh</li>
            </ul>


            <h3>Manual Installation:</h3>
            <p>The auto-complete is an oh-my-zsh plugin as said before. If you want to install the plugin manually, follow the instructions on the <a href="https://github.com/borracciaBlu/aws-upload-zsh">aws-upload-zsh documentation</a>.</p>

            <a id="update" class="anchor"></a>
            <h2>
                <span>#</span> Update
            </h2>

            <p>
                To update <code>aws-upload</code> to the latest version, run the <code>self-update</code> command. It will replace your <code>aws-upload</code> with the latest version.
            </p>

            <p>
                If you have the tab-completion enabled run <code>autocomplete</code> to update the zsh plugin as well.
            </p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line"><span class="comment"># update latest stable</span></div>
                                <div class="line">$ aws-upload selfupdate</div>
                                <div class="line"><span class="comment"># update tab-completion plugin</span></div>
                                <div class="line">$ aws-upload autocomplete</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            <a id="speaking-aws-upload" class="anchor"></a>
            <h2>
                <span>#</span> Speaking aws-upload: proj, env, and keys
            </h2>

            <p>There are some concept that you have to be aware if you want to use properly aws-upload.  </p>
            <p><strong>Project:</strong> the project is a label to identify a project you are working on. <br>
            You can not use a <code>.</code> in the project label.<br>
            <u>Abbreviation:</u> <code>proj</code>.<br>
            <u>Examples:</u> [blog, client-name].</p>
            <p><strong>Environments:</strong> the environment is a label to identify a specific environment or setup.
            You can not use a <code>.</code> in the environment label.<br>
            <u>Abbreviation:</u> <code>env</code>.<br>
            <u>Examples:</u> [dev, stag, prod].</p>
            <p><strong>Keys:</strong> the key is a shortcut to identify a project in combination with an environment.<br>
            The syntax is: <code>proj.env</code> . </p>
            <table class="table">
                <thead>
                    <tr>
                        <th></th>
                        <th align="center">dev</th>
                        <th align="center">stag</th>
                        <th align="center">prod</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>blog</strong></td>
                        <td align="center">blog.dev</td>
                        <td align="center">blog.stag</td>
                        <td align="center">blog.prod</td>
                    </tr>
                    <tr>
                        <td><strong>client-name</strong></td>
                        <td align="center">client-name.dev</td>
                        <td align="center">client-name.stag</td>
                        <td align="center">client-name.prod</td>
                    </tr>
                </tbody>
            </table>

            <a id="your-first-deploy" class="anchor"></a>
            <h2>
                <span>#</span> Your first deploy
            </h2>

            <p>Before to deploy with aws-upload you have to create a setting file.
            To create a setting file:</p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">$ aws-upload new [key]</div>
                                <div class="line"><span class="comment"># in the case of proj:blog env:dev</span></div>
                                <div class="line">$ aws-upload new blog.dev</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>


            <p>This command will generate a setting file for this key. Now you have to edit it.<br>
            To edit you can type:</p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line"><span class="comment"># to edit the setting file</span></div>
                                <div class="line">$ aws-upload edit blog.dev</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            <p>Now you are ready to deploy.<br>To deploy edit:</p>

            <figure class="highlight bash">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line"><span class="comment"># to deploy!</span></div>
                                <div class="line">$ aws-upload blog dev</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>
            <p>Done.</p>

            <a id="settings" class="anchor"></a>
            <h1>The setting files</h1>

            <a id="the-file-structure" class="anchor"></a>
            <h2>
                <span>#</span> The file structure
            </h2>

            <p>This is the structure of a setting file. <br> As you can see there are <strong>4 main parts</strong>: <code>pem</code>, <code>local</code>, <code>remote</code>, <code>exclude</code>.</p>

            <figure class="highlight js">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">{</div>
                                <div class="line">    <span>"pem"</span> : <span>"/home/keys/your-key.pem"</span>,</div>
                                <div class="line">    <span>"local"</span> : <span>"/var/www/project/*"</span>,</div>
                                <div class="line">    <span>"remote"</span> : <span>"ubuntu@ec2-xxx-xxx-xxx-xxx.compute-1.amazonaws.com:/var/www/html"</span>,</div>
                                <div class="line">    <span>"exclude"</span> : [</div>
                                <div class="line">        <span>".env"</span>,</div>
                                <div class="line">        <span>".git/"</span>,</div>
                                <div class="line">        <span>"storage/"</span>,</div>
                                <div class="line">        <span>"tests/"</span>,</div>
                                <div class="line">        <span>"node_modules/"</span></div>
                                <div class="line">    ]</div>
                                <div class="line">}</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            <p><strong>pem</strong> | <em>string</em>:  it contains the path to your pem key.<br>
            <strong>local</strong> | <em>string</em>: it contains the path to the directory you want to upload to your ec2 server.<br>
            <strong>exclude</strong> | <em>array</em>: it contains the list of files or folders you DO NOT want to upload. <br>
            <strong>remote</strong> | <em>string</em>: it contains the information of your server.<br>
            In particular [<em>user</em>]@[<em>host</em>]:[<em>remotePath</em>] where:</p>
            <ul>
            <li><strong>user</strong>: is you user on your server. Possibles values [ec2-user, ubuntu]</li>
            <li><strong>host</strong>: is your ec2 host name. Similar value [ec2-xxx-xxx-xxx-xxx.compute-1.amazonaws.com]  </li>
            <li><strong>remotePath</strong>: is the folder you want to upload your project to. It's the folder on your server.</li>
            </ul>

            <a id="examples" class="anchor"></a>
            <h2>
                <span>#</span> Examples
            </h2>

            <h3>Deploy on ec2 / ubuntu AMI</h3>
            <figure class="highlight js">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">{</div>
                                <div class="line">    <span>"pem"</span> : <span>"/home/username/ssh/your-key.pem"</span>,</div>
                                <div class="line">    <span>"local"</span> : <span>"/var/www/project/*"</span>,</div>
                                <div class="line">    <span>"remote"</span> : <span>"ubuntu@ec2-xxx-xxx-xxx-xxx.compute-1.amazonaws.com:/var/www/html"</span>,</div>
                                <div class="line">    <span>"exclude"</span> : [</div>
                                <div class="line">        <span>".env"</span>,</div>
                                <div class="line">        <span>".git/"</span>,</div>
                                <div class="line">        <span>"node_modules/"</span></div>
                                <div class="line">    ]</div>
                                <div class="line">}</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>


            <h3>Deploy on ec2 / Amazon Linux AMI</h3>
            <figure class="highlight js">
                <table>
                    <tbody>
                        <tr><td class="code">
                            <pre>
                                <div class="line">{</div>
                                <div class="line">    <span>"pem"</span> : <span>"/home/username/ssh/your-key.pem"</span>,</div>
                                <div class="line">    <span>"local"</span> : <span>"/var/www/project/*"</span>,</div>
                                <div class="line">    <span>"remote"</span> : <span>"ubuntu@ec2-xxx-xxx-xxx-xxx.compute-1.amazonaws.com:/var/www/html"</span>,</div>
                                <div class="line">    <span>"exclude"</span> : [</div>
                                <div class="line">        <span>".env"</span>,</div>
                                <div class="line">        <span>".git/"</span>,</div>
                                <div class="line">        <span>"node_modules/"</span></div>
                                <div class="line">    ]</div>
                                <div class="line">}</div>
                            </pre>
                        </td></tr>
                    </tbody>
                </table>
            </figure>

            </div>
        </div>
    </div>

<link rel="stylesheet" href="./css/main.css" />

<script>
if (document.domain === "www.aws-upload.com" ||
    document.domain === "aws-upload.com") {

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-102628534-1', 'auto');
  ga('send', 'pageview');
}
</script>

<script>
    WebFontConfig = {
      google: { families: ['Open Sans:400', 'Source Code Pro:400'] }
    };

    (function(d) {
      var wf = d.createElement('script'), s = d.scripts[0];
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js';
      s.parentNode.insertBefore(wf, s);
    })(document);
</script>

<script>
    (function(d) {
        var a = d.querySelectorAll('.nav-bar--mobile a');

        for (var i = a.length - 1; i >= 0; i--) {
            a[i].addEventListener('click', function(e) {
                d.querySelector('.nav-bar--burger').classList.remove('open');
                console.log('yea');
            });
        }
    })(document);
</script>

</body>
</html>